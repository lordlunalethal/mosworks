<!DOCTYPE html>
<html lang="en">



<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Streamlab - Video Streaming HTML5 Template" />
    <meta name="description" content="Streamlab - Video Streaming HTML5 Template" />
    <meta name="author" content="StreamLab" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>mosworks! - Catch up with all your favorite charecters!</title>
    <!-- Favicon -->
    <link rel="shortcut icon" href="images/favicon.png">
    <!-- CSS bootstrap-->
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <!--  Style -->
    <link rel="stylesheet" href="css/style.css" />
    <!--  Responsive -->
    <link rel="stylesheet" href="css/responsive.css" />
</head>

<body>

    <!--=========== Loader =============-->
    <!--div id="gen-loading">
        <div id="gen-loading-center">
            <img src="images/logo-1.png" alt="loading">
        </div>
    </div-->
    <div id="loading-spinner" class="loading-spinner">
    <div class="spinner"></div>
</div>

    <!--=========== Loader =============-->

    <!-- Log-in  -->
    <section class="position-relative pb-0">
        <div class="gen-login-page-background" style="background-image: url('images/background/asset-54.jpg');"></div>
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="text-center">
                        <form name="pms_login" id="pms_login" action="#" method="post">
                            <h4>Sign In</h4>
                            <p class="login-username">
                                <label for="user_login">Username</label>
                                <input type="text" name="log" id="user_login" class="input" value="" size="20">
                            </p>
                            <p class="login-password">
                                <label for="user_pass">Password</label>
                                <input type="password" name="pwd" id="user_pass" class="input" value="" size="20">
                            </p>
                            <p class="login-remember">
                                <label>
                                    
                                     </label>
                            </p>
                            <p class="login-submit">
                                <input type="submit" name="wp-submit" id="wp-submit" class="button button-primary"
                                    value="Log In">
                                <input type="hidden" name="redirect_to">
                            </p>
                            <input type="hidden" name="pms_login" value="1"><input type="hidden" name="pms_redirect"><a
                                href="register.html"></a>  <a href="recover-password.html"></a>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Log-in  -->

    <!-- Back-to-Top start -->
    <div id="back-to-top">
        <a class="top" id="top" href="#top"> <i class="ion-ios-arrow-up"></i> </a>
    </div>
    <!-- Back-to-Top end -->

    <!-- js-min -->
    <script src="js/credentials.js"></script>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script src="js/asyncloader.min.js"></script>
    <!-- JS bootstrap -->
    <script src="js/bootstrap.min.js"></script>
    <!-- owl-carousel -->
    <script src="js/owl.carousel.min.js"></script>
    <!-- counter-js -->
    <script src="js/jquery.waypoints.min.js"></script>
    <script src="js/jquery.counterup.min.js"></script>
    <!-- popper-js -->
    <script src="js/popper.min.js"></script>
    <script src="js/swiper-bundle.min.js"></script>
    <!-- Iscotop -->
    <script src="js/isotope.pkgd.min.js"></script>

    <script src="js/jquery.magnific-popup.min.js"></script>

    <script src="js/slick.min.js"></script>

    <script src="js/streamlab-core.js"></script>

    <script src="js/script.js"></script>
  <!-- Include credentials.js before script.js -->
<script src="js/credentials.js"></script>
<!--script>
    // Listen to form submission
    document.getElementById("pms_login").addEventListener("submit", function (e) {
        e.preventDefault(); // Prevent default form submission

        // Get user input
        const enteredUsername = document.getElementById("user_login").value;
        const enteredPassword = document.getElementById("user_pass").value;

        // Validate credentials
        const isValid = validCredentials.some(
            (cred) => cred.username === enteredUsername && cred.password === enteredPassword
        );

        if (isValid) {
            alert("Login successful! Redirecting to homepage...");
            window.location.href = "traveling.html"; // Redirect to the homepage
        } else {
            alert("Invalid credentials. Please try again.");
        }
    });
</script-->
<script>
// Listen to form submission
document.getElementById("pms_login").addEventListener("submit", function (e) {
    e.preventDefault(); // Prevent default form submission

    // Get user input
    const enteredUsername = document.getElementById("user_login").value;
    const enteredPassword = document.getElementById("user_pass").value;

    // Get the spinner element and show it during the login attempt
    const spinner = document.getElementById("loading-spinner");
    spinner.style.display = "flex";

    // Validate credentials
    const isValid = validCredentials.some(
        (cred) => cred.username === enteredUsername && cred.password === enteredPassword
    );

    // Handle login result
    if (isValid) {
        console.log("Login successful! Redirecting to homepage...");
        
        // Store login state in sessionStorage
        sessionStorage.setItem("isLoggedIn", "true");
        console.log("Session storage after login:", sessionStorage.getItem("isLoggedIn")); // Debugging line

        // Redirect after successful login
        setTimeout(function() {
            window.location.href = "movies-infinite-scroll.html"; // Redirect to a different page
        }, 500); // Add a small delay to ensure the spinner hides before the redirect
    } else {
        // Show an inline error message
        const errorElement = document.createElement("p");
        errorElement.style.color = "red";
        errorElement.textContent = "Invalid credentials!. Please try again.";
        
        // Append the error message after the form
        const form = document.getElementById("pms_login");
        form.appendChild(errorElement);

        // Hide the spinner after login attempt
        spinner.style.display = "none";

        // Remove error message after 3 seconds (optional)
        setTimeout(() => {
            errorElement.remove();
        }, 2000);
    }

    // Ensure the spinner is hidden when login attempt finishes
    setTimeout(function() {
        spinner.style.display = "none"; // Hide the spinner after processing
    }, 500); // You can adjust this delay as necessary (it should match the login processing time)
});


</script>



</body>



</html>